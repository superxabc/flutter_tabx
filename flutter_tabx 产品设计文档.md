# ğŸ“˜ flutter_tabx äº§å“è®¾è®¡æ–‡æ¡£

---

## ç›®å½•

* [ğŸ“Œ äº§å“å®šä½è¯´æ˜](#-äº§å“å®šä½è¯´æ˜)
* [ğŸ¯ äº§å“è®¾è®¡æ–‡æ¡£ï¼ˆProduct Design Docï¼‰](#-äº§å“è®¾è®¡æ–‡æ¡£product-design-doc)

  * [1. èƒŒæ™¯ä¸ç›®æ ‡](#1-èƒŒæ™¯ä¸ç›®æ ‡)
  * [2. åŠŸèƒ½æ¦‚è§ˆ](#2-åŠŸèƒ½æ¦‚è§ˆ)
  * [3. æ ¸å¿ƒç»„ä»¶è¯´æ˜](#3-æ ¸å¿ƒç»„ä»¶è¯´æ˜)
  * [4. ä½¿ç”¨åœºæ™¯](#4-ä½¿ç”¨åœºæ™¯)
  * [5. é…ç½®ç¤ºä¾‹](#5-é…ç½®ç¤ºä¾‹)
* [ğŸ§± æŠ€æœ¯æ¶æ„æ–‡æ¡£ï¼ˆTech Architecture Docï¼‰](#-æŠ€æœ¯æ¶æ„æ–‡æ¡£tech-architecture-doc)

  * [1. æŠ€æœ¯é€‰å‹](#1-æŠ€æœ¯é€‰å‹)
  * [2. ç»„ä»¶ç»“æ„å›¾](#2-ç»„ä»¶ç»“æ„å›¾)
  * [3. æ§åˆ¶å™¨è®¾è®¡ TabXController](#3-æ§åˆ¶å™¨è®¾è®¡-tabxcontroller)
  * [4. TabXBar åŠŸèƒ½è®¾è®¡](#4-tabxbar-åŠŸèƒ½è®¾è®¡)
  * [5. TabXView åŠŸèƒ½è®¾è®¡](#5-tabxview-åŠŸèƒ½è®¾è®¡)
  * [6. ä½¿ç”¨è¾¹ç•Œä¸è®¾è®¡åŸåˆ™](#6-ä½¿ç”¨è¾¹ç•Œä¸è®¾è®¡åŸåˆ™)
  * [7. å‘å¸ƒä¸ä¾èµ–ç®¡ç†](#7-å‘å¸ƒä¸ä¾èµ–ç®¡ç†)
* [ğŸš€ åç»­è§„åˆ’ä¸ä¼˜åŒ–æ–¹å‘](#-åç»­è§„åˆ’ä¸ä¼˜åŒ–æ–¹å‘)

---

## ğŸ“Œ äº§å“å®šä½è¯´æ˜

> `flutter_tabx` æ˜¯ä¸€ä¸ªä¸“æ³¨äºâ€œé¡¶éƒ¨é¢‘é“åˆ‡æ¢â€çš„ Flutter ç»„ä»¶åº“ï¼Œå°è£…äº†é«˜å¯å®šåˆ¶çš„ TabBar ä¸ TabViewï¼Œé€‚ç”¨äºå¦‚èµ„è®¯é¢‘é“é¡µã€ç”µå•†åˆ†ç±»é¡µç­‰â€œé¡µé¢å†…éƒ¨çš„å†…å®¹åˆ‡æ¢åœºæ™¯â€ã€‚

> â—**ä¸é€‚ç”¨äº**é¡µé¢çº§å¯¼èˆªæˆ–åº•éƒ¨å¯¼èˆªï¼ˆBottomTabï¼‰ï¼Œå»ºè®®ä½¿ç”¨ Flutter å®˜æ–¹ `BottomNavigationBar` æˆ–å¦è¡Œå°è£…ã€‚

---

## ğŸ¯ äº§å“è®¾è®¡æ–‡æ¡£ï¼ˆProduct Design Docï¼‰

### 1. èƒŒæ™¯ä¸ç›®æ ‡

Flutter æä¾›äº†åŸç”Ÿçš„ `TabBar + TabBarView + TabController`ï¼Œä½†å®é™…å¼€å‘ä¸­å­˜åœ¨ä»¥ä¸‹ç—›ç‚¹ï¼š

* æ ·å¼æ‹“å±•æ€§ä¸è¶³ï¼ˆè‡ªå®šä¹‰æŒ‡ç¤ºå™¨ã€æ ‡ç­¾å¤æ‚ï¼‰
* çŠ¶æ€å’Œäº¤äº’é€»è¾‘è€¦åˆ
* ä¸åµŒå¥—æ»šåŠ¨ã€æ‡’åŠ è½½å…¼å®¹æ€§å·®
* é¡µé¢åˆ‡æ¢åŠ¨ç”»é™åˆ¶
* ç¼ºä¹ç”Ÿå‘½å‘¨æœŸé’©å­ï¼ˆå¦‚ onShow/onHideï¼‰

**ç›®æ ‡ï¼š**
æ„å»ºä¸€å¥—ç»„ä»¶ï¼Œæ”¯æŒçµæ´»çš„é¢‘é“åˆ‡æ¢æ ·å¼ã€è‡ªå®šä¹‰åŠ¨ç”»ã€æ‡’åŠ è½½å’Œé¡µé¢ç¼“å­˜ï¼Œå…¼å®¹å„ç§åµŒå¥—ä½¿ç”¨åœºæ™¯ã€‚

---

### 2. åŠŸèƒ½æ¦‚è§ˆ

| åŠŸèƒ½æ¨¡å—             | è¯´æ˜                          |
| ---------------- | --------------------------- |
| `TabXBar`        | æ¸²æŸ“Tabæ ‡ç­¾ï¼Œæ”¯æŒå›¾æ ‡ã€æ–‡å­—ã€æ»‘åŠ¨ã€é€‰ä¸­æ ·å¼ã€æŒ‡ç¤ºå™¨ |
| `TabXView`       | å†…å®¹å®¹å™¨ï¼Œæ”¯æŒæ‡’åŠ è½½ã€ç¼“å­˜ã€åˆ‡æ¢åŠ¨ç”»ã€ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥   |
| `TabXController` | æ§åˆ¶é€‰ä¸­çŠ¶æ€ã€è·³è½¬ã€ç›‘å¬å˜åŒ–              |
| `TabXItem`       | å•ä¸ªæ ‡ç­¾é¡¹ï¼Œæ”¯æŒ builder æ„å»º         |
| `TabXIndicator`  | è‡ªå®šä¹‰æ ·å¼çš„æ»‘åŠ¨æŒ‡ç¤ºå™¨ï¼Œæ”¯æŒçº¿æ¡ã€å—çŠ¶ã€åŠ¨ç”»ã€æ¸å˜ç­‰  |

---

### 3. æ ¸å¿ƒç»„ä»¶è¯´æ˜

```dart
class TabXBar extends StatelessWidget { ... }
class TabXView extends StatefulWidget { ... }
class TabXController extends ChangeNotifier { ... }
class TabXItem extends StatelessWidget { ... }
class TabXIndicator extends StatelessWidget { ... }
```

---

### 4. ä½¿ç”¨åœºæ™¯

| åœºæ™¯                    | æ”¯æŒæƒ…å†µ |
| --------------------- | ---- |
| é¡µé¢å†…é¢‘é“åˆ‡æ¢               | âœ…    |
| é¡¶éƒ¨/ä¸­éƒ¨/åµŒå¥—æ»šåŠ¨å®¹å™¨ä¸­çš„ TabBar | âœ…    |
| æ»‘åŠ¨åˆ‡æ¢ + åŠ¨ç”»             | âœ…    |
| æŒ‡ç¤ºå™¨æ ·å¼è‡ªå®šä¹‰              | âœ…    |
| æ¨ªå‘/çºµå‘Tab              | âœ…    |
| é¡¶éƒ¨å¸é™„ + Sliver æ”¯æŒ      | âœ…    |
| é¡µé¢ç¼“å­˜ä¸æ‡’åŠ è½½              | âœ…    |

---

### 5. é…ç½®ç¤ºä¾‹

```dart
final controller = TabXController(length: 3);

Column(
  children: [
    TabXBar(
      controller: controller,
      tabs: [
        TabXItem(text: 'æ¨è', icon: Icons.star),
        TabXItem(text: 'çƒ­ç‚¹'),
        TabXItem(text: 'å…³æ³¨'),
      ],
      indicator: TabXIndicator.underline(),
    ),
    Expanded(
      child: TabXView(
        controller: controller,
        lazyLoad: true,
        keepAlive: true,
        children: [
          RecommendPage(),
          HotPage(),
          FollowPage(),
        ],
      ),
    )
  ],
);
```

---
